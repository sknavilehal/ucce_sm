<!DOCTYPE html>
<html>

<head>
    <!--import stylesheet in flask format-->
    <link href="{{url_for('static', filename='css/cui-standard.min.css')}}" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="{{url_for('static',filename='js/styleguide.js')}}"></script>
    <link href="{{url_for('static', filename='dropzone-5.7.0/dropzone-5.7.0/dist/min/dropzone.min.css')}}" rel="stylesheet" type="text/css">
    <script src="{{url_for('static' ,filename="dropzone-5.7.0/dropzone-5.7.0/dist/dropzone.js")}}"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>

    <!--<script src="public/js/clipboard.js"></script>
    <script src="public/js/featherlight.min.js"></script>
    <script src="public/js/Markdown.Converter.js"></script>
    <script src="public/js/highlight.pack.js"></script>-->
    
    <meta charset="utf-8">
    <style>
        body.cui .btn
        {
            background-color: #0094eb;
    border-color: #0175a2;
    color: #f8f8f8;
}
        
        .dropzone {
  background: white;
  border-radius: 5px;
  border: 2px dashed rgb(0, 135, 247);
  border-image: none;
  max-width: 300px;
  margin-left: auto;
  margin-right: auto;
}
.center
{
    max-width: 600px;
    margin-top: 4rem;
  margin-left: auto;
  margin-right: auto;
   
   
}
.dataTables_wrapper
{
    padding: 20px;
    background-color: white;
    font-family: tahoma;
}

.dropzone .dz-preview.dz-file-preview .dz-image
{
    background: #afddf7;
    width: 150px;
    height: 100px;
}

    </style>
</head>

<body class="cui" data-theme="light" style="background-color: aliceblue;">...

    
    
    

    <div class="row base-margin-bottom">
        <div class="col-12">
            <header class="header header--compressed" style="height: 6rem;">
                <div class="container">
                    <div class="header-panels">
                        <div class="header-panel">
                            <a class="header__logo" href="http://www.cisco.com" target="_blank">
                                <span class="icon-cisco icon-size-32"  ></span>
                            </a>
                            <div class="header__title">
                                <h1 class="header__title" style="font-size: 2.5rem;font-weight:300;">CVP Log Analysis</h1> </div>
                        </div>
                       
        
                    </div>
                </div>
            </header>
        </div>
    </div>
    <div class="row base-margin-bottom">
        <div class="col-12">
            <nav id="styleguideSidebar" class="sidebar sidebar--mini sidebar--slate" role="navigation">
                <div class="sidebar__header">
                    <a id="sidebar-toggle" class="sidebar-toggle hidden-xs hidden-sm">
                        <span class="icon-toggle-menu"></span>
                    </a>
                    
                </div>
                <ul id="rootSidebar" data-kss-ref="styleguide.homepage">
                    <li class="sidebar__item " id="section-gettingStarted">
                        <a onclick="doNav('/')"  title="Home">
                            <span class="icon-home"></span>
                            <span>Home</span>
                        </a>
                    </li>
                    <li class="sidebar__item sidebar__item--selected">
                        <a onclick="doNav('./files')" title="Getting Started">
                            <span class="icon-applications"></span>
                            <span>Files</span>
                        </a>
                    </li>
                    <li class="sidebar__item " >
                        <a onclick="doNav('/statistics')" title="Getting Started">
                            <span class="icon-data-usage"></span>
                            <span>Statistics</span>
                        </a>
                    </li>
                    
                    
                    <li class="sidebar__item">
                            <a onclick="doNav('/')" title="Getting Started">
                                <span class="icon-feedback"></span>
                                <span>Feedback</span>
                            </a>
                    </li>
                </ul>
            </nav>

            <div class="row base-margin-bottom " style="margin-left: 10rem;">
                <div class="col-12 center">
                    <table id="table_id" style="width:80%" class=" hover order-column row-border">
                   
                </table>
                </div>
            </div>
      
        </div>

        
    </div>

    
</body>
<script>
 var files
    $(document).ready( function () {
       files=[]
        $.ajax({
            type: 'GET',
            url: 'http://127.0.0.1:5000/api/files',
            
            contentType: false,
            cache: false,
            processData: false,
            success: function(data) {
                //alert('Success!');
                for(i=0;i<data.length;i++)
                {
                    files[i]=[]
                    files[i]=[data[i],"<span class='icon-play-contained icon-size-20'  onclick='analyse("+i+")'  style='color:green' ></span><span class='icon-remove-contain icon-size-20' style='color:#a52727;margin-left:1rem' ></span>"]
                }
                console.log(files)
                files
                console.log(files)
                $('#table_id').DataTable(
        {
            data: files,
                columns: [
                    { title: "ID" },
                    { title: "Actions" },
                   
                ],
                stateSave: true
                } ); 
               
            }
        });
     
  

} );

function analyse(i) {
            var table = $('#table_id').DataTable();
            data = table.rows(i).data()[0][0]
            //alert(data)
            doNav('/statistics/'+data)
            //open diagram in new page
            //window.open("/diagram/" + data);
        }
</script>


</html>